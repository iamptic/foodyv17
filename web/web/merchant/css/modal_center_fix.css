/* Foody v17 — modal center FORCE override (no redesign)
   Drop-in replacement for your existing modal_center_fix.css
   Targets common containers: #offerEditModal, #offerModal, .modal, .edit-modal
   Works even if previous CSS sets left:0; top:0; position:absolute;
*/

/* 1) Generic overlay containers — make them fullscreen and flex-centered when open */
#offerEditModal,
#offerModal,
.modal,
.edit-modal {
  position: fixed !important;
  inset: 0 !important;
  display: none !important;
  align-items: center !important;
  justify-content: center !important;
  background: rgba(0,0,0,.55) !important;
  z-index: 9999 !important;
  padding: 16px !important;
}

/* common open states */
#offerEditModal.open,
#offerEditModal._open,
#offerEditModal[aria-hidden="false"],
#offerModal.open,
#offerModal._open,
#offerModal[aria-hidden="false"],
.modal.open,
.modal._open,
.modal[aria-hidden="false"],
.edit-modal.open,
.edit-modal._open,
.edit-modal[aria-hidden="false"] {
  display: flex !important;
}

/* 2) Modal card/content box — center & constrain */
#offerEditModal .modal-card,
#offerEditModal .modal-content,
#offerModal .modal-card,
#offerModal .modal-content,
.modal .modal-card,
.modal .modal-content,
.edit-modal .modal-card,
.edit-modal .modal-content {
  position: relative !important;
  max-width: min(860px, 100%) !important;
  width: 100% !important;
  max-height: 90vh !important;
  overflow: auto !important;
  margin: 0 auto !important;
  background: var(--card, #11161e) !important;
  border-radius: 16px !important;
  border: 1px solid var(--line, #232a35) !important;
  box-shadow: 0 10px 30px rgba(0,0,0,.35) !important;
  padding: 16px !important;
}

/* 3) Fallback for cases where container can't be flexed:
      Center the first child by translate from center of viewport */
#offerEditModal:not(.open):not(._open):not([aria-hidden="false"]) .modal-card,
#offerModal:not(.open):not(._open):not([aria-hidden="false"]) .modal-card,
.modal:not(.open):not(._open):not([aria-hidden="false"]) .modal-card,
.edit-modal:not(.open):not(._open):not([aria-hidden="false"]) .modal-card {
  /* no-op when closed */
}

/* Hard fallback if some legacy CSS still sets absolute + left:0 */
#offerEditModal .modal-card[style*="left: 0"],
#offerModal .modal-card[style*="left: 0"],
.modal .modal-card[style*="left: 0"],
.edit-modal .modal-card[style*="left: 0"],
#offerEditModal .modal-content[style*="left: 0"],
#offerModal .modal-content[style*="left: 0"],
.modal .modal-content[style*="left: 0"],
.edit-modal .modal-content[style*="left: 0"] {
  left: 50% !important;
  top: 50% !important;
  transform: translate(-50%, -50%) !important;
}

/* 4) Close button quality-of-life (optional, non-breaking) */
#offerEditModal .modal-close,
#offerModal .modal-close,
.modal .modal-close,
.edit-modal .modal-close {
  position: absolute !important;
  right: 10px !important;
  top: 10px !important;
  z-index: 1 !important;
}

/* 5) Prevent parent layout from constraining modal */
body.modal-open { overflow: hidden !important; }

/* 6) iOS scroll momentum */
#offerEditModal .modal-card,
#offerModal .modal-card,
.modal .modal-card,
.edit-modal .modal-card { -webkit-overflow-scrolling: touch !important; }

@media (max-width: 640px){
  #offerEditModal .modal-card,
  #offerModal .modal-card,
  .modal .modal-card,
  .edit-modal .modal-card { border-radius: 12px !important; }
}